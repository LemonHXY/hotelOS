<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>麦味·酒店预订</title>
    <meta name="description" content="">
    <meta name="keywords" content="">


    <link href="/https://fonts.googleapis.com/css?family=Work+Sans:300,400,700" rel="stylesheet">

    <link rel="stylesheet" href="/assets/css/bootstrap/bootstrap.css">
    <link rel="stylesheet" href="/assets/css/animate.css">
    <link rel="stylesheet" href="/assets/fonts/ionicons/css/ionicons.min.css">

    <link rel="stylesheet" href="/assets/css/owl.carousel.min.css">

    <link rel="stylesheet" href="/assets/fonts/flaticon/font/flaticon.css">

    <link rel="stylesheet" href="/assets/css/bootstrap-datepicker.css">

    <link rel="stylesheet" href="/assets/fonts/fontawesome/css/font-awesome.min.css">

    <link rel="stylesheet" href="/assets/css/select2.css">


    <link rel="stylesheet" href="/assets/css/helpers.css">
    <link rel="stylesheet" href="/assets/css/style.css">


    <link type="text/css" rel="stylesheet" href="/assets/css/city-select.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/iconfont.css">
    <link rel="stylesheet" type="text/css" href="/assets/css/waiter.css">

    <style type="text/css">
        table, th, td {
            border: 1px solid #E4E4E4;
        }

        table {
            width: 100%;
        }

    </style>

</head>
<body>

<!--标题栏-->
<nav class="navbar navbar-expand-lg navbar-dark probootstrap_navbar" id="probootstrap-navbar">
    <div class="container">
        <a class="navbar-brand" href="/index">My Way</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#probootstrap-menu"
                aria-controls="probootstrap-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span><i class="ion-navicon"></i></span>
        </button>
        <div class="collapse navbar-collapse" id="probootstrap-menu">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a class="nav-link" href="/index">首页</a></li>
                <li class="nav-item"><a class="nav-link" href="/userorder/get"
                                        onclick="alert('人家还不知道你是谁呢，不如先登录吧(*/ω＼*)')">我的订单</a></li>
                <li class="nav-item"><a class="nav-link" href="/enter">登录</a></li>
                <li class="nav-item"><a class="nav-link" href="/register/get">注册</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="wuyou-waiter">
    <ul class="waiter-ul">
        <li class="wuyou-top">
            <a class="iconfont icon-Upward" href="#"></a>
            <div class="waiter-title">回到顶部</div>
        </li>
    </ul>
</div>

<!--搜索框-->
<section class="probootstrap-cover overflow-hidden relative" style="background-image: url('/assets/images/bg_1.jpg');"
         data-stellar-background-ratio="0.5" id="section-home">
    <div class="overlay"></div>
    <div class="container">
        <div class="media probootstrap-media d-flex align-items-stretch mb-4 probootstrap-animate fadeInUp probootstrap-animated">
            <div class="media-body">
                <div class="col-md probootstrap-animate">
                    <form action="/search/get" class="probootstrap-form" method="post" th:object="${search}">
                        <div class="form-group">
                            <div class="row mb-3">
                                <div class="col-md">
                                    <!--<div class="form-group">-->
                                    <!--<label for="city" name="city"  th:field="*{city}">城市</label>-->
                                    <!--<div for="city" class="city-select" id="single-select-1" style="width: 100%;">-->
                                    <!--<input type="text" id="city" class="form-control"-->
                                    <!--placeholder="请选择城市" >-->
                                    <!--</div>-->
                                    <!--</div>-->
                                    <div class="form-group">
                                        <label for="city">城市</label>
                                        <label for="city" style="width: 100%;">
                                            <select required="true"
                                                    class="js-example-basic-single js-states form-control" id="city"
                                                    style="width: 100%;" name="city" th:field="*{city}">
                                            </select>
                                        </label>
                                    </div>
                                </div>
                                <div class="col-md">
                                    <div class="form-group">
                                        <label for="hotel_keyword">酒店关键字</label>
                                        <div>
                                            <input type="text" class="form-control" id="hotel_keyword"
                                                   placeholder="" name="name" th:field="*{name}">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md">
                                    <div class="form-group">
                                        <label for="probootstrap-date-arrival">入住日期</label>
                                        <div class="probootstrap-date-wrap">
                                            <span class="icon ion-calendar"></span>
                                            <input type="text" id="probootstrap-date-arrival"
                                                   class="form-control" placeholder="" name="start" th:field="*{start}">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md">
                                    <div class="form-group">
                                        <label for="probootstrap-date-departure">离店日期</label>
                                        <div class="probootstrap-date-wrap">
                                            <span class="icon ion-calendar"></span>
                                            <input type="text" id="probootstrap-date-departure"
                                                   class="form-control" placeholder="" name="end" th:field="*{end}">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <div class="col-md">
                                    <div class="form-group">
                                        <select class="form-control" id="sort">
                                            <option value="">请选择排序方式</option>
                                            <option value="评分优先">评分优先</option>
                                            <option value="距离优先">距离优先</option>
                                            <option value="低价优先">低价优先</option>
                                            <option value="高价优先">高价优先</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="col-md">
                                    <div class="form-group">
                                        <select class="form-control" id="star">
                                            <option value="全部星级">全部星级</option>
                                            <option value="五星">五星</option>
                                            <option value="四星">四星</option>
                                            <option value="三星">三星</option>
                                            <option value="三星以下">三星以下</option>
                                        </select>

                                    </div>
                                </div>

                                <div class="col-md">
                                    <div class="form-group">
                                        <select class="form-control">
                                            <option value="全部价格">全部价格</option>
                                            <option value="0-200元">0-200元</option>
                                            <option value="200-500元">200-500元</option>
                                            <option value="500-1000元">500-1000元</option>
                                            <option value="1000元以上">1000元以上</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md">
                                    <div class="form-group">
                                        <select class="form-control">
                                            <option value="距离不限">距离不限</option>
                                            <option value="1公里内">1公里内</option>
                                            <option value="3公里内">3公里内</option>
                                            <option value="5公里内">5公里内</option>
                                            <option value="10公里内">10公里内</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="col-md">
                                    <input type="submit" value="   搜     索   "
                                           style="color:#fff;background-color:#00CA4C;border-color:#00CA4C;float:right;">
                                </div>

                            </div>
                        </div>
                    </form>


                    <table>
                        <tr>
                            <th class="text-center" width="100px">图片</th>
                            <th width="240px">酒店名</th>
                            <th width="240px">酒店地址</th>
                            <th class="text-center" width="40px">星级</th>
                            <th class="text-center" width="40px">评分</th>
                            <th class="text-center" width="40px">价格</th>
                            <th class="text-center" width="80px">距离</th>
                            <th class="text-center" width="60px">操作</th>
                        </tr>
                        <tr height="70" th:each="hotel: ${hotels}">
                            <td align="center" valign="middle"><img th:src="${hotel.photo1}" height="60"/></td>
                            <td th:text="${hotel.hotelName}"></td>
                            <td th:text="${hotel.addressline}"></td>
                            <td class="text-center" th:text="${hotel.starRating}"></td>
                            <td class="text-center" th:text="${hotel.ratingAverage}"></td>
                            <td class="text-center" th:text="${hotel.ratesFrom}"></td>
                            <td></td>
                            <!-- <td th:text="${hotel.overview}"></td>-->
                            <td align="center" valign="middle">
                                <!--<button type="button" action="hotel_room.html" >详情</button>-->
                                <a href="http://localhost:8280/room/get">
                                    <button>详情</button>
                                </a>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
    </br></br></br></br></br></br></br>
    <div class="col-md-12 text-center">
        <p style="color:white;" class="probootstrap_font-14">Copyright © 2019 . My Way 麦味 · 酒店订购</p>
    </div>

</section>
<!-- END section -->

<script src="/assets/js/jquery.min.js"></script>

<script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/owl.carousel.min.js"></script>

<script src="/assets/js/bootstrap-datepicker.js"></script>

<script src="/assets/js/jquery.waypoints.min.js"></script>
<script src="/assets/js/jquery.easing.1.3.js"></script>

<script src="/assets/js/select2.min.js"></script>

<script src="/assets/js/main.js"></script>

<script src="/assets/js/jquery.js"></script>

<script src="/assets/js/area.js"></script><!--所有城市数据-->
<script src="/assets/js/select.js"></script><!--默认调用方法-->
<script src="/assets/verSelector/verSelect.js"></script><!--封装插件-->
<script>
    new verSelector(); //启动插件
</script>
<script>
    var sort = document.getElementById('sort');

    sort.onchange = function () {
        var table = document.getElementsByTagName('table')[0];
        var tr = table.getElementsByTagName('tr');
        var array = [];
        for (var i = 1; i < tr.length; i++) {
            array.push(tr[i]);
        }
        if (sort.value == "评分优先")
            Grade(array);
        else if (sort.value == "距离优先")
            Distance(array);
        else if (sort.value == "低价优先")
            Pricelow(array);
        else if (sort.value == "高价优先")
            Pricehigh(array);
        else
            return;
        for (var i = 0; i < array.length; i++) {
            table.appendChild(array[i]);
        }
    }

    function Pricelow(array) {
        for (var i = 0; i < array.length; i++) {
            for (var j = i + 1; j < array.length; j++) {
                if (array[j] === undefined) {
                    continue;
                }
                if (Number(array[i].getElementsByTagName('td')[5].innerText) >= Number(array[j].getElementsByTagName('td')[5].innerText)) {
                    var temp = array[i];
                    array[i] = array[j];
                    array[j] = temp;
                }
            }
        }
    }

    function Pricehigh(array) {
        for (var i = 0; i < array.length; i++) {
            for (var j = i + 1; j < array.length; j++) {
                if (array[j] === undefined) {
                    continue;
                }
                if (Number(array[i].getElementsByTagName('td')[5].innerText) <= Number(array[j].getElementsByTagName('td')[5].innerText)) {
                    var temp = array[i];
                    array[i] = array[j];
                    array[j] = temp;
                }
            }
        }
    }

    function Grade(array) {
        for (var i = 0; i < array.length; i++) {
            for (var j = i + 1; j < array.length; j++) {
                if (array[j] === undefined) {
                    continue;
                }
                if (Number(array[i].getElementsByTagName('td')[4].innerText) <= Number(array[j].getElementsByTagName('td')[4].innerText)) {
                    var temp = array[i];
                    array[i] = array[j];
                    array[j] = temp;
                }
            }
        }
    }

</script>
</body>
</html>